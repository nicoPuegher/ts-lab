var H=Object.defineProperty;var O=(t,e,n)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var f=(t,e,n)=>O(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function b(t){return t.toISOString().split("T")[0]}function F(){const t=document.getElementById(b(new Date));t instanceof HTMLButtonElement&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"start"})}const $=200;let p=null;function R(){window.addEventListener("resize",()=>{p&&clearTimeout(p),p=setTimeout(F,$)})}/**
 * @license lucide v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=(t,e,n=[])=>{const r=document.createElementNS("http://www.w3.org/2000/svg",t);return Object.keys(e).forEach(s=>{r.setAttribute(s,String(e[s]))}),n.length&&n.forEach(s=>{const o=D(...s);r.appendChild(o)}),r};var E=([t,e,n])=>D(t,e,n);/**
 * @license lucide v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=["svg",y,[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]]];/**
 * @license lucide v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=["svg",y,[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}]]];/**
 * @license lucide v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=["svg",y,[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]]],h="todoData";class z{constructor(){f(this,"state");f(this,"stateChangeSubscribers");f(this,"previousSelectedDate");f(this,"previousSelectedFilter");const e=K(),n=localStorage.getItem(h);try{if(n){const r=JSON.parse(n);e.todosByDate=r.todosByDate}}catch(r){console.error("Failed to parse stored state",r),localStorage.removeItem(h)}this.state=e,this.stateChangeSubscribers=[],this.previousSelectedDate=e.selectedDate,this.previousSelectedFilter=e.selectedFilter}getState(){return this.state}setSelectedDate(e){const{selectedDate:n}=this.state,r=b(e);if(n==r)return;const s=document.getElementById(this.previousSelectedDate);s&&(s.classList.remove("primary"),s.classList.add("secondary")),this.previousSelectedDate=r,this.state={...this.state,selectedDate:r},this.saveState(),this.notifyStateChangeSubscribers()}setFilter(e){const{selectedFilter:n}=this.state;if(n==e)return;const r=document.getElementById(this.previousSelectedFilter);r&&(r.classList.remove("primary"),r.classList.add("secondary")),this.previousSelectedFilter=e,this.state={...this.state,selectedFilter:e},this.notifyStateChangeSubscribers()}setSearchTerm(e){const{searchTerm:n}=this.state;n!=e&&(this.state={...this.state,searchTerm:e},this.notifyStateChangeSubscribers())}addTodo(e){const n={id:Date.now().toString(),text:e,completed:!1},{selectedDate:r,todosByDate:s}=this.state,o=s[r]||[];this.state={...this.state,todosByDate:{...this.state.todosByDate,[r]:[...o,n]}},this.saveState(),this.notifyStateChangeSubscribers(n)}editTodo(e,n){this.updateTodos(r=>r.map(s=>s.id==e?{...s,text:n}:s))}toggleTodo(e){this.updateTodos(n=>n.map(r=>r.id==e?{...r,completed:!r.completed}:r))}deleteTodo(e){this.updateTodos(n=>n.filter(r=>r.id!==e))}subscribeStateChange(e){this.stateChangeSubscribers.push(e)}notifyStateChangeSubscribers(e){this.stateChangeSubscribers.forEach(n=>n(e))}saveState(){localStorage.setItem(h,JSON.stringify(this.state))}updateTodos(e){const{selectedDate:n,todosByDate:r}=this.state,s=r[n]||[];this.state={...this.state,todosByDate:{...r,[n]:e(s)}},this.saveState()}}function K(){return{selectedDate:b(new Date),selectedFilter:"all",searchTerm:"",todosByDate:{}}}const c=new z;function C(t,e){const n=document.createElement("label");return n.htmlFor=t,n.textContent=e,n}function U(){const t=document.createElement("input");return t.id="search-input",t.setAttribute("type","search"),t.setAttribute("placeholder","Search for a to-do..."),t.setAttribute("tabindex","0"),t}const _=300,m="";function q(){const t=document.createElement("div");t.setAttribute("role","search"),t.setAttribute("aria-label","To-do search"),t.classList.add("search-filter","clean-input");const e=E(P);e.setAttribute("aria-hidden","true"),e.classList.add("icons");const n=E(V);n.id="close-icon",n.setAttribute("role","button"),n.setAttribute("aria-label","Clear search"),n.setAttribute("tabindex","0"),n.classList.add("icons","clickeable","hide-icon","focusable"),n.addEventListener("click",()=>k(r.id)),n.addEventListener("keydown",o=>A(o,r.id));const r=U();r.setAttribute("aria-describedby","search-instructions"),r.classList.add("clean-input","focusable"),r.addEventListener("input",o=>W(o,n.id)),r.addEventListener("keydown",o=>A(o,r.id));const s=C(r.id,"Search todo");return t.append(e,s,r,n),t}function k(t){const e=document.getElementById(t);e instanceof HTMLInputElement&&(e.value=m,e.dispatchEvent(new Event("input")),e.focus())}function A(t,e){(t.key=="Enter"||t.key==" "||t.key=="Escape")&&(t.preventDefault(),k(e))}function W(t,e){const n=t.target,r=document.getElementById(e);if(!(n instanceof HTMLInputElement)||!r)return;const s=n.value.trim();r.setAttribute("aria-hidden",s==m?"true":"false"),r.classList.toggle("hide-icon",s==m),s!=m?I(s):(I.cancel(),c.setSearchTerm(m))}const I=Y(function(t){c.setSearchTerm(t)},_);function Y(t,e){let n=null;const r=s=>{n&&clearTimeout(n),n=setTimeout(()=>t(s),e)};return r.cancel=()=>{n&&(clearTimeout(n),n=null)},r}function w(t,e="primary"){const n=document.createElement("button");return n.textContent=t,n.setAttribute("tabindex","-1"),n.classList.add(e,"focusable"),n}const l={ALL:"All",ACTIVE:"Active",COMPLETED:"Completed"};function j(){const t={currentFocusIndex:null},e=document.createElement("div");e.setAttribute("role","toolbar"),e.setAttribute("aria-label","Filter to-dos by status"),e.setAttribute("tabindex","0"),e.classList.add("status-filter","focusable");const n=g(l.ALL,l.ALL.toLowerCase()),r=g(l.ACTIVE,l.ACTIVE.toLowerCase()),s=g(l.COMPLETED,l.COMPLETED.toLowerCase());return e.append(n,r,s),e.addEventListener("keydown",o=>G(o,t)),e}function g(t,e){const n=c.getState().selectedFilter,r=w(t,"secondary");return r.id=e,r.setAttribute("aria-pressed",t.toLowerCase()==n?"true":"false"),r.classList.add("focusable"),r.addEventListener("click",s=>J(s,e)),n==e&&(r.classList.remove("secondary"),r.classList.add("primary")),r}function G(t,e){if(!(t.currentTarget instanceof HTMLElement))return;const n=t.currentTarget,r=c.getState(),s=Array.from(n.children);switch(e.currentFocusIndex==null&&(e.currentFocusIndex=s.findIndex(o=>o.id==r.selectedFilter)),t.key){case"ArrowLeft":case"ArrowRight":t.preventDefault();const o=t.key=="ArrowLeft"?-1:1;e.currentFocusIndex=(e.currentFocusIndex+o+s.length)%s.length;const a=s[e.currentFocusIndex];a instanceof HTMLButtonElement&&a.focus();break;case"Home":t.preventDefault(),e.currentFocusIndex=0;break;case"End":t.preventDefault(),e.currentFocusIndex=-1;break;case"Escape":n.focus(),e.currentFocusIndex=null;break;case"Tab":e.currentFocusIndex=null;break}}function J(t,e){const n=c.getState().selectedFilter,r=document.getElementById(n),s=t.target;r instanceof HTMLButtonElement&&(r.setAttribute("aria-pressed","false"),s instanceof HTMLButtonElement&&(s.classList.remove("secondary"),s.classList.add("primary"),(e=="all"||e=="active"||e=="completed")&&c.setFilter(e),s.setAttribute("aria-pressed","true")))}function Z(){const t=document.createElement("div");t.classList.add("filter-layout");const e=j(),n=q();return t.append(e,n),t}function d(t){const{firstElementChild:e,lastElementChild:n}=t.container;if(!e||!n)return;const r=t.container.getBoundingClientRect(),s=e.getBoundingClientRect(),o=n.getBoundingClientRect(),a=t.axis==="horizontal"?Math.floor(s.left)>=Math.floor(r.left):Math.floor(s.top)>=Math.floor(r.top),i=t.axis==="horizontal"?Math.floor(o.right)<=Math.floor(r.right):Math.floor(o.bottom)<=Math.floor(r.bottom);t.container.classList.toggle(t.startClass,a),t.container.classList.toggle(t.endClass,i)}function T(t,e){let n=!1;function r(){n||(n=!0,requestAnimationFrame(()=>{t(e),n=!1}))}e.container.addEventListener("scroll",r)}function X(t,e,n){const r=c.getState().selectedDate,s=b(n),o=r==s,a=document.createElement("button");a.id=s,a.setAttribute("role","tab"),a.setAttribute("aria-selected",o?"true":"false"),o&&a.setAttribute("aria-current","date"),a.setAttribute("aria-label",`${t} ${e}, ${n.toLocaleString("default",{month:"long"})}`),a.setAttribute("tabindex","-1"),a.classList.add("date-component","focusable",o?"primary":"secondary"),a.addEventListener("click",()=>Q(a,n));const i=document.createElement("span");i.textContent=t.toUpperCase(),i.classList.add("weekday");const u=document.createElement("span");return u.textContent=e.toString(),u.classList.add("day-of-month"),a.append(i,u),a}function Q(t,e){const n=c.getState().selectedDate,r=document.getElementById(n);r instanceof HTMLButtonElement&&(r.setAttribute("aria-selected","false"),t.classList.remove("secondary"),t.classList.add("primary"),c.setSelectedDate(e),t.setAttribute("aria-selected","true"))}const ee="T00:00:00",te=7;function ne(){const t={currentFocusIndex:null},e=document.createElement("div");e.setAttribute("aria-label","Date picker"),e.setAttribute("role","tablist"),e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-live","polite"),e.setAttribute("tabindex","0"),e.classList.add("date-picker","focusable"),e.addEventListener("keydown",i=>re(i,t));const n=window.localStorage.getItem(h),r=se(n),s=oe(),o=[...r,...s];ae(o,e);const a={container:e,axis:"horizontal",startClass:"at-start",endClass:"at-end"};return T(d,a),setTimeout(()=>d(a),0),e}function re(t,e){if(!(t.currentTarget instanceof HTMLElement))return;const n=t.currentTarget,r=c.getState(),s=Array.from(n.children);switch(e.currentFocusIndex==null&&(e.currentFocusIndex=s.findIndex(o=>o.id==r.selectedDate)),t.key){case"ArrowLeft":case"ArrowRight":t.preventDefault();const o=t.key=="ArrowLeft"?-1:1;e.currentFocusIndex=(e.currentFocusIndex+o+s.length)%s.length;const a=s[e.currentFocusIndex];a instanceof HTMLButtonElement&&(a.focus(),a.scrollIntoView({block:"nearest",inline:"center"}));break;case"Home":t.preventDefault(),e.currentFocusIndex=0;break;case"End":t.preventDefault(),e.currentFocusIndex=-1;break;case"Escape":n.focus(),e.currentFocusIndex=null;break;case"Tab":e.currentFocusIndex=null;break}}function se(t){if(!t)return[];const e=new Date().toISOString().split("T")[0],n=JSON.parse(t);return Object.keys(n.todosByDate).filter(r=>r<e).map(r=>new Date(r+ee)).sort((r,s)=>r.getTime()-s.getTime())}function oe(){return Array.from({length:te},(t,e)=>{const n=new Date,r=n.getDate()+e;return n.setDate(r),n})}function ae(t,e){t.forEach(n=>{const r=n.toLocaleString("en-US",{weekday:"short"}),s=n.getDate(),o=X(r,s,n);e.appendChild(o)})}function S(t){const e=document.createElement("li");e.id=t.id,e.setAttribute("tabindex","-1"),e.classList.add("todo","clean-input","focusable"),e.classList.toggle("todo-completed",t.completed);const n=document.createElement("input");n.id=`checkbox-${t.id}`,n.checked=t.completed,n.setAttribute("type","checkbox"),n.setAttribute("aria-labelledby",`checkbox-${t.id}`),n.setAttribute("tabindex","-1"),n.addEventListener("change",o=>ie(t.id,e,o));const r=document.createElement("p");r.textContent=t.text,r.setAttribute("tabindex","-1"),r.addEventListener("click",o=>le(o,t));const s=E(N);return s.setAttribute("tabindex","-1"),s.classList.add("icons","clickeable","trash-icon"),s.classList.toggle("hide-element",t.completed),s.addEventListener("click",()=>fe(t.id)),e.append(n,r,s),e}function ce(t,e){const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("value",`${e.textContent||""}`),n.classList.add("todo-edit"),n.addEventListener("blur",r=>de(t,r,e)),n.addEventListener("keydown",r=>ue(t,r,e)),e.replaceWith(n),n.focus()}function ie(t,e,n){var s;const r=n.target;r instanceof HTMLInputElement&&(e.classList.toggle("todo-completed",r.checked),(s=e.lastElementChild)==null||s.classList.toggle("hide-element",r.checked),c.toggleTodo(t))}function le(t,e){t.target instanceof HTMLParagraphElement&&t.target.parentElement instanceof HTMLLIElement&&(t.target.parentElement.classList.contains("todo-completed")||ce(e,t.target))}function de(t,e,n){e.target instanceof HTMLInputElement&&(n.textContent=e.target.value,e.target.replaceWith(n),c.editTodo(t.id,n.textContent))}function ue(t,e,n){e.target instanceof HTMLInputElement&&(e.key=="Enter"?(n.textContent=e.target.value,e.target.replaceWith(n),c.editTodo(t.id,n.textContent)):e.key=="Escape"&&e.target.replaceWith(n))}function fe(t){const e=document.getElementById(t);e&&(c.deleteTodo(t),e.remove())}const me=10;function he(){const t={currentFocusIndex:null},e=document.createElement("ul");e.setAttribute("role","list"),e.setAttribute("aria-label","To-do items"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-relevant","additions removals"),e.setAttribute("aria-describedby","todo-instructions"),e.setAttribute("tabindex","0"),e.classList.add("focusable"),e.addEventListener("keydown",s=>be(s,t));let n=null;const r={container:e,axis:"vertical",startClass:"at-top",endClass:"at-bottom"};return c.subscribeStateChange(s=>{x(e,s),s&&(n&&clearTimeout(n),n=setTimeout(()=>Te(e),me)),T(d,r),setTimeout(()=>d(r),0)}),x(e),T(d,r),setTimeout(()=>d(r),0),e}function be(t,e){if(!(t.currentTarget instanceof HTMLElement))return;const n=t.currentTarget,r=Array.from(n.children);switch(e.currentFocusIndex==null&&(e.currentFocusIndex=0),t.key){case"ArrowUp":case"ArrowDown":t.preventDefault();const s=t.key=="ArrowUp"?-1:1;e.currentFocusIndex=(e.currentFocusIndex+s+r.length)%r.length;const o=r[e.currentFocusIndex];o instanceof HTMLLIElement&&o.focus();break;case"Home":t.preventDefault(),e.currentFocusIndex=0;break;case"End":t.preventDefault(),e.currentFocusIndex=-1;break;case"Escape":n.focus(),e.currentFocusIndex=null;break;case"Tab":e.currentFocusIndex=null;break}}function x(t,e){const{selectedDate:n,todosByDate:r}=c.getState(),s=r[n]||[];t.setAttribute("aria-label",`To-do items - ${s.length} items`),t.classList.toggle("empty",s.length===0),e?pe(t,e):ge(t)}function pe(t,e){const n=S(e);t.appendChild(n)}function ge(t){const e=c.getState(),n=e.todosByDate[e.selectedDate]||[],r=Ee(n,e.selectedFilter,e.searchTerm),s=document.createDocumentFragment();r.forEach(o=>s.appendChild(S(o))),t.replaceChildren(s)}function Ee(t,e,n){let r=[];switch(e){case"active":r=t.filter(s=>!s.completed);break;case"completed":r=t.filter(s=>s.completed);break;default:r=t}return r=r.filter(s=>s.text.includes(n)),r}function Te(t){const e=t.lastElementChild;if(!e||!(e instanceof HTMLElement))return;const n=t.scrollTop,r=e.offsetTop,s=500;let o=null;const a=i=>{o||(o=i);const u=i-o,L=Math.min(u/s,1);t.scrollTop=n+(r-n)*L,L<1&&requestAnimationFrame(a)};requestAnimationFrame(a)}function ye(){return document.createElement("p")}function Le(){const t=document.createElement("form");return t.setAttribute("role","form"),t.setAttribute("tabindex","0"),t.classList.add("focusable"),t}function Ae(){const t=document.createElement("input");return t.id="text-input-id",t.setAttribute("type","text"),t.setAttribute("name","text-input"),t.setAttribute("placeholder","Write a to-do..."),t.setAttribute("autocomplete","off"),t.setAttribute("tabindex","-1"),t.classList.add("clean-input","focusable"),t}function Ie(){const t={currentFocusIndex:null},e=Le();e.setAttribute("aria-label","Add todo item");const n=Ae();n.setAttribute("aria-required","true"),n.setAttribute("aria-invalid","false"),n.setAttribute("maxlength","25");const r=C(n.id,"Todo item"),s=w("Add");s.setAttribute("type","submit");const o=ye();return o.setAttribute("role","alert"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","true"),n.addEventListener("input",a=>xe(a,o)),n.addEventListener("blur",()=>Fe(n,o)),e.addEventListener("keydown",a=>De(a,t)),e.addEventListener("submit",a=>Ce(a,e,n,o)),e.append(r,n,s,o),e}function xe(t,e){t.target instanceof HTMLInputElement&&(e.textContent="",t.target.setAttribute("aria-invalid","false"))}function Fe(t,e){const n=t.value.trim();if(n.length===0)return;const r=v(n);r&&M(t,e,r)}function De(t,e){if(!(t.currentTarget instanceof HTMLElement))return;const n=t.currentTarget,r=Array.from(t.currentTarget.children).slice(1,3);switch(e.currentFocusIndex==null&&(e.currentFocusIndex=0),t.key){case"ArrowLeft":case"ArrowRight":t.preventDefault();const s=t.key=="ArrowLeft"?-1:1;e.currentFocusIndex=(e.currentFocusIndex+s+r.length)%r.length;const o=r[e.currentFocusIndex];(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.focus();break;case"Home":t.preventDefault(),e.currentFocusIndex=0;break;case"End":t.preventDefault(),e.currentFocusIndex=-1;break;case"Escape":n.focus(),e.currentFocusIndex=null;break;case"Tab":e.currentFocusIndex=null;break}}function Ce(t,e,n,r){if(t.preventDefault(),!(t.target instanceof HTMLFormElement))return;const o=new FormData(t.target).get(n.name);if(typeof o!="string")return;const a=v(o);if(a){M(n,r,a);return}e.reset(),n.setAttribute("aria-invalid","false"),n.focus(),we(ke(o))}function v(t){const e=t.trim();return e.length==0?"Cannot be empty.":e.length<3||e.length>25?"Must be between 3 and 25 characters long.":/^[a-zA-Z0-9\s]+$/.test(e)?/^\d+$/.test(e)?"Cannot contain only numbers.":null:"Only letters, numbers, and spaces allowed."}function M(t,e,n){e.textContent=n,t.setAttribute("aria-invalid","true"),t.setAttribute("aria-describedby",e.id),t.focus()}function ke(t){return t.trim().replace(/\s+/g," ")}function we(t){c.addTodo(t)}const B=document.querySelector("#root");if(!B)throw new Error("The #root element does not exist.");B.append(ne(),Z(),he(),Ie());F();R();
